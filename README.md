# Ostrich Mobility Web App Backend

Flask-based REST API backend for Ostrich Mobility web application.

## Features
- User authentication with JWT
- Customer management
- Product catalog with images
- Sales and dispatch tracking
- Service tickets
- Enquiries management
- Dashboard analytics

## Local Development

### Prerequisites
- Python 3.11+
- MySQL database

### Setup
1. Clone the repository
2. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

3. Create `.env` file (use `.env.example` as template):
   ```
   DB_HOST=your_database_host
   DB_USER=your_database_user
   DB_PASSWORD=your_database_password
   DB_NAME=your_database_name
   DB_PORT=your_database_port
   JWT_SECRET_KEY=your_secret_key
   ```

4. Run the application:
   ```bash
   python app.py
   ```

Server runs on `http://localhost:8002`

## Deployment on Render

### Automatic Deployment
1. Push code to GitHub
2. Connect repository to Render
3. Render will detect `render.yaml` and configure automatically

### Environment Variables (Set in Render Dashboard)
- `DB_HOST` - Database host
- `DB_USER` - Database username
- `DB_PASSWORD` - Database password
- `DB_NAME` - Database name
- `DB_PORT` - Database port
- `JWT_SECRET_KEY` - Auto-generated by Render

### Manual Configuration
If not using `render.yaml`:
- **Build Command**: `pip install -r requirements.txt`
- **Start Command**: `gunicorn app:app`
- **Python Version**: 3.11.0

## API Endpoints

### Authentication
- `POST /api/v1/auth/login` - User login

### Dashboard
- `GET /api/v1/dashboard/analytics` - Dashboard statistics

### Customers
- `GET /api/v1/customers` - List customers
- `POST /api/v1/customers` - Create customer
- `PUT /api/v1/customers/:id` - Update customer
- `DELETE /api/v1/customers/:id` - Delete customer

### Products
- `GET /api/v1/products` - List products
- `POST /api/v1/products` - Create product
- `PUT /api/v1/products/:id` - Update product
- `DELETE /api/v1/products/:id` - Delete product

### Categories
- `GET /api/v1/categories` - List categories
- `POST /api/v1/categories` - Create category

### Sales
- `GET /api/v1/sales` - List sales
- `POST /api/v1/sales` - Create sale

### Service Tickets
- `GET /api/v1/service-tickets` - List tickets
- `POST /api/v1/service-tickets` - Create ticket

### Enquiries
- `GET /api/v1/enquiries` - List enquiries
- `POST /api/v1/enquiries` - Create enquiry

## Default Credentials
- Username: `admin`
- Password: `admin123`

## Tech Stack
- Flask 2.3.3
- Flask-CORS 4.0.0
- Flask-JWT-Extended 4.5.3
- PyMySQL 1.1.0
- Gunicorn 21.2.0
